<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> Flux/Redux inspired architecture with RxSwift · OscarVGG</title><meta name="description" content="Flux/Redux inspired architecture with RxSwift - Oscar Vicente Gonzalez Greco"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/css/apollo.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Sans+Pro:400,600" type="text/css"></head><body><header><a href="/" class="logo-link"><img src="/favicon.png"></a><ul class="nav nav-list"><li class="nav-list-item"><a href="/" target="_self" class="nav-list-link">BLOG</a></li><li class="nav-list-item"><a href="/archives/" target="_self" class="nav-list-link">ARCHIVE</a></li><li class="nav-list-item"><a href="http://twitter.com/oscarvgg" target="_blank" class="nav-list-link">TWITTER</a></li><li class="nav-list-item"><a href="https://github.com/oscarvgg" target="_blank" class="nav-list-link">GITHUB</a></li><li class="nav-list-item"><a href="/atom.xml" target="_self" class="nav-list-link">RSS</a></li></ul></header><section class="container"><div class="post"><article class="post-block"><h1 class="post-title">Flux/Redux inspired architecture with RxSwift</h1><div class="post-time">Apr 17, 2017</div><div class="post-content"><p>React-Redux is a great architecture for the web, but how great is it for iOS apps?<br><a id="more"></a><br>React-Redux is a great architecture for the web, but how great is it for iOS apps?</p>
<p>Not long ago, when I was about to start working on an iPad app for a new client, I stumbled upon this <a href="https://www.youtube.com/watch?v=Oau4JjJP3nA" target="_blank" rel="external">video</a>, and this <a href="https://news.realm.io/news/benji-encz-unidirectional-data-flow-swift/" target="_blank" rel="external">other one</a>. They talked about the benefits of Redux, and how great it would be to borrow some ideas for developing iOS apps. After doing some research, and finding some frameworks that pretend to implement React-Redux with Swift. I realised, that the framework is way too opinionated for my taste, and decided to write my own thing.</p>
<h2 id="Overview"><a href="#Overview" class="headerlink" title="Overview"></a>Overview</h2><p>Flux and Redux, enforce the concept of unidirectional data flow. This is a great idea, because it keeps the architecture cleaner and easier to maintain.</p>
<p>[architecture image]</p>
<p>It consisted of three fundamental pieces: The view, represented by view controllers, the use case, which would work similarly to the reducers in Redux, the data, a layer composed by objects that provide information relevant to the app, and finally, the state store, in charge of applying the new states. To tie it all together, I used RxSwift.</p>
<h3 id="The_view"><a href="#The_view" class="headerlink" title="The view"></a>The view</h3><p>The views are just UIViews and/or UIViewControllers. Here, you can go as simple or complex as you want. Use a single, multiple, embed them, you name it. The important thing is that they display the information according to the state and call the corresponding use case to each user action.</p>
<h3 id="The_Use_Case"><a href="#The_Use_Case" class="headerlink" title="The Use Case"></a>The Use Case</h3><p>The use case is where the logic of the app relies. They also communicate to the databases or any other source of information relevant to the system, and push the state changes into the State Store.</p>
<h3 id="The_Data_Source"><a href="#The_Data_Source" class="headerlink" title="The Data Source"></a>The Data Source</h3><p>The data source(s) are all the structures responsible for retrieving the information that feeds the app, for example, a class that gets data from a database would be the most popular example of a data source. However, it could be any input data. For instance, I recently worked on a project where a significant amount of the data, came from the readings of a drone. Therefore, don’t think about the sources as just data bases or web services, it could be any form of information feeding the app.</p>
<h3 id="The_State_Store"><a href="#The_State_Store" class="headerlink" title="The State Store"></a>The State Store</h3><p>This is the data structure that holds the State of the system, and sends it to it’s subscribers when changes are made.</p>
<p>The state could be just be a <code>struct</code> that contain the values relevant to the system.</p>
<p>The use cases submit the updated value of the state to the store and then sends it to the subscribed objects (the views, usually).</p>
<h2 id="Conclusion"><a href="#Conclusion" class="headerlink" title="Conclusion"></a>Conclusion</h2><p>This architecture makes it easier to keep concerns separated and focused, which is great for maintenance and testing. However, I wouldn’t recommend it for smaller projects as it adds unnecessary complexity. For bigger projects, it may work fine to some extend, but I really haven’t tried it yet. In my opinion, it works best for medium size projects, which is most of the size of iOS apps.</p>
<p>If you want to see an example of all this ideas working, check out the playground file in the following link.</p>
<p><a href="https://github.com/oscarvgg/redux-inspired-architecture-ios" target="_blank" rel="external">https://github.com/oscarvgg/redux-inspired-architecture-ios</a></p>
<p>I’m always eager to read your comments about this sort of things, so please let me know in the comments section below what do you like or what would you change.</p>
</div></article></div></section><footer><div class="paginator"><a href="/2016/10/26/hello-world/" class="next">NEXT</a></div><div id="disqus_thread"></div><script>var disqus_shortname = 'oscarvgg';
var disqus_identifier = '2017/04/17/redux-inspired-architecture-with-rxswift/';
var disqus_title = 'Flux/Redux inspired architecture with RxSwift';
var disqus_url = 'http://oscarvgg.com/2017/04/17/redux-inspired-architecture-with-rxswift/';
(function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
})();</script><script id="dsq-count-scr" src="//oscarvgg.disqus.com/count.js" async></script><div class="copyright"><p>© 2016 - 2017 <a href="http://oscarvgg.com">Oscar Vicente Gonzalez Greco</a>.</p></div></footer><script>(function(b,o,i,l,e,r){b.GoogleAnalyticsObject=l;b[l]||(b[l]=function(){(b[l].q=b[l].q||[]).push(arguments)});b[l].l=+new Date;e=o.createElement(i);r=o.getElementsByTagName(i)[0];e.src='//www.google-analytics.com/analytics.js';r.parentNode.insertBefore(e,r)}(window,document,'script','ga'));ga('create',"UA-18437342-1",'auto');ga('send','pageview');</script><script src="https://cdn.bootcss.com/mathjax/2.5.3/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script></body></html>